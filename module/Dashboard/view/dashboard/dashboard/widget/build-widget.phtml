<div id="<?php echo $widgetId; ?>"
     class="span<?php echo $params['span']; ?> widget <?php echo $widgetType; ?>"
     data-widget-type="<?php echo $widgetType; ?>"
     data-params='<?php echo $this->json($params)?>'>
</div>
<script type="text/template" id="<?php echo $widgetId; ?>Tpl">
    <div class="widgetContainer flip-container <% if (currentStatus == null && lastStatus == null) { %>flipped-effect<%} %>">
        <div class="flip-content">

            <div class="front face">
                <h1 class="title"><?php echo $params['title']; ?> <?php if ($params['subtitle']):?><br/><small><?php echo $params['subtitle']; ?></small><?php endif?></h1>

                <p class="average-health-score"><%= averageHealthScoreClass %></p>

                <div class="details">
                    <p class="last-committer"><%= lastCommitter %></p>
                    <% if(codeCoverage > 0) { %>
                        <p class="code-coverage">Code coverage: <%= codeCoverage %>%</p>
                    <% } %>
                    <% if (percentageDiff > 0) { %>
                        <p class="change-rate">
                            <i class="<%= arrowClass %>"></i>
                            <span class="difference"><%= percentageDiff %>% (<%= oldValue %>%)</span>
                        </p>
                    <% } %>
                    <p class="last-built">Last built at: <%= lastBuilt %></p>
                    <p class="updated-at"></p>
                </div>
            </div>

            <div class="back face center">
                <h1 class="title" data-bind="title"><?php echo $params['title']; ?></h1>

                <input type="text" class="jenkins-build" data-fgColor="#d288ce" data-bgColor="#e3b4e0" data-angleOffset=-125 data-angleArc=250 data-width=200 data-readOnly=true value="<%= percentDone %>" data-min="0" data-max="100">

                <div class="details">
                    <p class="last-committer"><%= lastCommitter %></p>
                    <% if(codeCoverage > 0) { %>
                        <p class="code-coverage">Code coverage: <%= codeCoverage %>%</p>
                    <% } %>
                    <% if (percentageDiff > 0) { %>
                        <p class="change-rate">
                            <i class="<%= arrowClass %>"></i>
                            <span class="difference"><%= percentageDiff %>% (<%= oldValue %>%)</span>
                        </p>
                    <% } %>
                    <p class="last-built">Last built at: <%= lastBuilt %></p>
                </div>
            </div>
        </div>
    </div>
</script>